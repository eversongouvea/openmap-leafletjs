<!DOCTYPE html>
<html>
	<head>
		<title>Criação de um Mapa Inicial</title>

		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link rel="stylesheet" href="node_modules/leaflet/dist/leaflet.css" />
	</head>
	<body onload="initMap()">
		<table>
			<tr>
				<td colspan="2">
					<select id="maptype" onchange="javascript: initMap()">
						<option value="1" selected>Open Map</option>
						<option value="2">Google Maps</option>
					</select>
				</td>
			</tr>
			<tr>
				<td><button onclick="javascript: clearMap()">Limpar Mapa</button></td>
				<td><button onclick="javascript: addMarker()">Add Marker Simples</button></td>
				<td><button onclick="javascript: addPolyline()">Add Polyline</button></td>
				<td><button onclick="javascript: addMultiplesMarkersAndBound()">Add Markers And Bound</button></td>
			</tr>
		</table>
		<div id="mapid" style="width: 800px; height: 600px;"></div>
	</body>
	<script type="text/javascript" src="https://maps.google.com/maps/api/js?key=AIzaSyDPQv3yNuHhhGausX-FkgpJnOL-7JFk9-Y"></script>
	<script src="node_modules/leaflet/dist/leaflet.js"></script>
	<script src="js/map.js"></script>
	<script src="js/openmap.js"></script>
	<script src="js/googlemaps.js"></script>
	<script type="text/javascript">
	
		var map;
		
		function initMap(){

			var e = document.getElementById("maptype");

			var value = e.options[e.selectedIndex].value;
			
			if(value == 1){
				map = new OpenMap(-23.5516, -46.6342, 3, "mapid");
			}
			else{
				map = new GoogleMaps(-23.5516, -46.6342, 3, "mapid");
			}
		}
		
		function clearMap(){
			map.clearMap();
		}

		function addMarker(){

			map.clearMap();

			var html = "<table border=1 bordercolor=''#0000ff'><tr><td>fsdfsdfsdfsdfsdf</td></tr></table>";
			
			var marker = map.addMarker(-23.562778, -46.655037, "Add Marker....", html, "icons/car.png");

			map.addZoom(marker);
		}

		function addPolyline(){

			map.clearMap();
			
			var html = "<table border=1 bordercolor=''#0000ff'><tr><td>poup</td></tr></table>";
			
			var marker = map.addMarker(-23.58707, -46.64685, "fsdf", html, "icons/car.png");

			var html = "<table border=1 bordercolor=''#0000ff'><tr><td>popup 2</td></tr></table>";
			
			var marker = map.addMarker(-23.58692, -46.64665, "fdsfdsfsdf", html, "icons/car.png");

			map.addPolyline();
		}


		function addMultiplesMarkersAndBound(){
			
			map.clearMap();
			
			var html = "<table border=1 bordercolor=''#0000ff'><tr><td>poup</td></tr></table>";
			
			var marker = map.addMarker(-23.58558, -46.64637, "ponte 1", html, "icons/car.png");

			var html = "<table border=1 bordercolor=''#0000ff'><tr><td>popup 2</td></tr></table>";
			
			var marker = map.addMarker(-23.27111, -47.45409, "ponte 2", html, "icons/car.png");

			map.addBounds();
		}
				
	</script>
</html>
